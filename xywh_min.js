var mediaFragments=function(a,b){function c(a){for(var c="img,video",e=a?a.querySelectorAll(c):b.querySelectorAll(c),f=0,g=e.length;g>f;f++){var h=e[f],i=h.src||h.currentSrc,j=/[#&\?]xywh\=(pixel\:|percent\:)?(\d+),(\d+),(\d+),(\d+)/,k=j.exec(i);if(k){var l={mediaItem:h,mediaType:h.nodeName.toLowerCase(),unit:k[1]?k[1]:"pixel:",x:k[2],y:k[3],w:k[4],h:k[5]};d(l)}}}function d(a){var d,e,f,g,c=a.mediaItem;if("pixel:"===a.unit)f=a.w+"px",g=a.h+"px",d="-"+a.x+"px",e="-"+a.y+"px";else{var h=c.width||c.videoWidth,i=c.height||c.videoHeight;f=h*a.w/100+"px",g=i*a.h/100+"px",d="-"+h*a.x/100+"px",e="-"+i*a.y/100+"px"}if("video"===a.mediaType){var j=b.createElement("div");j.setAttribute("style","overflow:hidden;width:"+f+";"+"height:"+g+";"+"padding:0;"+"margin:0;"+"border:none;"),c.setAttribute("style","transform:translate("+d+","+e+");"+"-webkit-transform:translate("+d+","+e+");"),c.parentNode.insertBefore(j,c),j.appendChild(c),c.hasAttribute("autoplay")&&c.play()}else c.setAttribute("style","width:"+f+";"+"height:"+g+";"+"background:url("+c.src+") "+"no-repeat "+d+" "+e+";"),c.src="data:image/gif;base64,R0lGODlhAQABAPAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="}return a.addEventListener("load",function(){c()}),{apply:function(){c()}}}(window,document);